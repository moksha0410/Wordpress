var Accordion=require("../faq/accordion.js"),selectors={root:".helpie-faq",accordion:".accordion",accordionHide:"accordion--hide",pagination:".helpie-faq__pagination"},FaqFunctions={getElements:function(t){let e=jQuery(t).closest(selectors.root),o=e.find(selectors.accordion),n=e.find(selectors.pagination);return{root:e,pagination:n,current:jQuery(t),accordion:o}},getShortcodeIndex:function(t){let e=jQuery(t.root).attr("data-shortcode-index");return parseInt(e)},getCollectionPropsFromHtml:function(t){let e=jQuery(t.root).attr("data-collection"),o={};return void 0!==e&&"undefined"!==e&&""!=e&&(o=JSON.parse(e)),o},getPaginationCurrentPage:function(t){let e=jQuery(t.root).attr("data-pagination");return e=null==e?0:parseInt(e),e},paginationEnabled:function(t){return this.getElements(t).pagination.length>0?"1":"0"},searchTermFromFaqObject:function(t,e){let o=this,n=[];return t.forEach((function(t,r){let a=o.isTitleMatch(t,e),i=o.isContentMatch(t,e),c=o.searchByTags(t,e);!!(a||i||c)&&n.push(t)})),n},isTitleMatch:function(t,e){return!(t.title.toLowerCase().search(e)<0)},isContentMatch:function(t,e){let o=t.content.replace(/<[^>]+>/g,"");return o=o.toLowerCase(),!(o.search(e)<0)},searchByTags:function(t,e){let o=!1;return null==t.tags||"undefined"==t.tags||0==t.tags.length||t.tags.split(",").forEach((function(t){-1!=(t=t.toLowerCase()).search(e)&&(o=!0)})),o},appendFaqsContent:function(t,e){let o=this,n=o.getFaqsContent(e);jQuery(t.accordion).removeClass(selectors.accordionHide).empty().append(n),o.setSearchAttributes(t),o.moveToTop(t)},getFaqsContent:function(t){return Accordion.init(t),Accordion.getAccordions()},setSearchAttributes:function(t){jQuery(t.root).find(".accordion__item").each((function(){let t=jQuery(this).text().toLowerCase();jQuery(this).attr("data-search-term",t)}))},moveToTop:function(t){let e=jQuery(t.accordion).offset().top;e=parseInt(e)-parseInt(70),window.scrollTo({top:e,behavior:"smooth"})}};module.exports=FaqFunctions;