var FaqCollections=require("./collections.js"),FaqFunctions=require("./functions.js"),Pagination=require("./pagination.js"),SearchByAttributes={urlAttribute:"",doSearch:function(t){let e=this;e.urlAttribute=t,jQuery(".helpie-faq").each((function(){if("1"===jQuery(this).attr("data-pagination-enabled")){let t=jQuery(this).attr("data-shortcode-index"),n=FaqCollections.getCurrentShortcodeViewProps(t),r=FaqFunctions.getElements(this);e.searchByUrlAttribute(n,r)}}))},searchByUrlAttribute:function(t,e){let n=this,r=t.items;const a=n.urlAttribute.search("hfaq")<0;let i=0;r.forEach((function(t,e){let r=t.slug;a||(r="hfaq-post-"+t.post_id),r="#"+r,n.urlAttribute==r&&(i=e)}));let o=FaqCollections.getTotalNoOfPages(t),s={totalNoOfPage:o,accordionIndex:i},l=n.getPageNumber(t,s);if(s.page=l,l>0){let n=FaqCollections.getCurrentPageViewProps(s,t);FaqFunctions.appendFaqsContent(e,n),Pagination.renderPageLinks(e.pagination,{current:l,last:o})}},getPageNumber:function(t,e){const n=t.collection.limit;let r=0;for(let t=0;t<=e.totalNoOfPage;t++){let a=parseInt(t)*parseInt(n),i=parseInt(a)+parseInt(n);e.accordionIndex>=a&&e.accordionIndex<=i&&(r=t)}return r}};module.exports=SearchByAttributes;